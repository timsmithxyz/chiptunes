<div class="header">
  <div class="container">
    <%= render :partial => 'layouts/html_header' %>
  </div>
</div>

<div class="categories">
  <div class="container">
    <div class="row">
      <div class="col s12">
        <div class="row">
          <%= form_tag(categories_path, :method => "get", id: "search-form") do %>
            <label for="search-form">Games similar to...</label>  
            <%= text_field_tag :search, params[:search] %>
            <%= submit_tag "Search" %>
          <% end %>
          <% if !@categories.present? %>
            <p>There are no categories containing the term(s) <%= params[:search] %>.</p>  
          <% end %>
        </div>
      </div>
    </div>
    <div class="row">
      <a href=<%= 'games#index' %>> Show all games </a>
      <% @categories.each do |t| %>
      <div class="col s12 m3">
        <div class="card">
          <div class="card-image"> 
            <%= image_tag t.image %>
          </div>
          <div class="card-title">
            <h2><%= t.name %></h2>
          </div>
          <div class="card-content">
            <p><%= t.bio %></p>
          </div>
          <div class="card-action">
            <%= link_to "Other soundtracks like this one", category_path(t) %>
          </div>
        </div>
      </div>
      <% end %>
    </div>
  </div>
</div>